{"version":3,"sources":["webpack:///webpack/bootstrap f69f79e70168aadeb1ec","webpack:///./lib/buffer/index.js","webpack:///./lib/buffer/proto.js","webpack:///./lib/extend.js","webpack:///./lib/stream/index.js","webpack:///./lib/stream/readable.js","webpack:///./lib/process.js","webpack:///./lib/stream/stream.js","webpack:///./lib/stream/writable.js","webpack:///./src/index.js","webpack:///./lib/buffer/utils/to/index.js","webpack:///./lib/buffer/utils/to/arrayToBuffer.js","webpack:///./lib/buffer/utils/to/stringToBuffer.js","webpack:///./lib/setImmediate.js","webpack:///./lib/vars.js","webpack:///./lib/events.js","webpack:///./lib/stream/duplex.js","webpack:///./lib/bus/index.js"],"names":["_createBuffer","iterable","arguments","offset","undefined","length","array","i","buffer","copy","target","targetStart","sourceStart","sourceEnd","source","copied","sourceIndex","targetIndex","set","Buffer","Error","from","apply","concat","list","totalLength","reduce","forEach","buf","Uint8Array","_extend","options","super","Child","Extended","Super","defProp","get","name","value","Proto","prototype","proto","prop","enumerable","writable","extend","args","Readable","Writable","Duplex","_readFree","_read","_readableState","highWaterMark","_readFromInternalBuffer","data","slice","_broadcast","emit","call","_flow","flowing","process","nextTick","_end","ended","_Readable","pipes","read","bind","TypeError","Function","pause","resume","push","chunk","overflow","pipe","some","listener","write","once","on","unpipe","find","removeListener","splice","event","isPaused","_process","global","setImmediate","_Stream","Stream","encoding","next","_writableState","_writeInternalBuffer","cb","err","consumed","corked","toConsume","_writev","map","d","shift","_write","_Writable","getBuffer","setup","setInterval","setTimeout","bus","frameSet","decode","index","charCodeAt","frame","_busState","parsing","console","log","toBuffer","Array","arrayToBuffer","stringToBuffer","arr","stringToUint8Array","str","c","_setImmediate","f","SUPER_CHAIN_PROTO_PROP","SUPER_CHAIN_APPLY_PROP","EventEmitter","Object","_Duplex","size","binary","_Bus","Bus","tx","rx"],"mappings":"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","file":"index.esp.webpack.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f69f79e70168aadeb1ec","import Proto from './proto'\r\nimport { toBuffer } from './utils/to'\r\n\r\nfunction _createBuffer() {\r\n\tconst iterable = toBuffer(arguments[0]),\r\n\t\toffset = arguments[1] !== undefined ? arguments[1] : 0,\r\n\t\tlength = arguments[2] !== undefined ? arguments[2] : iterable.length\r\n\r\n\tconst array = []\r\n\r\n\tfor(let i = offset;i--;)\r\n\t\tarray[i] = 0\r\n\r\n\tfor(let i = 0; (i < iterable.length) && (i < length); i++)\r\n\t\tarray[offset + i] = iterable[i]\r\n\r\n\tfor(let i = array.length; i < length; i++)\r\n\t\tarray[i] = 0\r\n\r\n\tconst buffer = new Proto(array)\r\n\r\n\treturn buffer\r\n}\r\n\r\nfunction copy(target) {\r\n\tconst targetStart \t= arguments[1] !== undefined ? arguments[1] : 0,\r\n\t\t\t\tsourceStart \t= arguments[2] !== undefined ? arguments[2] : 0,\r\n\t\t\t\tsourceEnd \t\t= arguments[3] !== undefined ? arguments[3] : source.length\r\n\r\n\tlet copied = 0\r\n\r\n\tfor(let sourceIndex = sourceStart, targetIndex = targetStart; sourceIndex < sourceEnd; sourceIndex++, targetIndex++, copied++)\r\n\t\ttarget.set([ this[sourceIndex] ], targetIndex)\r\n\r\n\treturn copied\r\n}\r\n\r\nfunction Buffer() {\r\n\tthrow new Error('Buffer constructor is deprecated. Use Buffer.from() instead.')\r\n}\r\n\r\nBuffer.from = function from() {\r\n\treturn _createBuffer.apply(null, arguments)\r\n}\r\n\r\nBuffer.concat = function concat() {\r\n\tconst list = arguments[0] || [],\r\n\t\ttotalLength = arguments[1] !== undefined ? arguments[1] : list.reduce((totalLength, array) => (totalLength + array.length), 0)\r\n\r\n\tlet buffer = _createBuffer([], 0, totalLength),\n\t\toffset = 0\r\n\r\n\tlist.forEach(buf => {\r\n\t\tbuffer.set(buf, offset)\r\n\t\toffset += buf.length\r\n\t})\r\n\r\n\treturn buffer\r\n}\r\n\r\nexport default Buffer\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/buffer/index.js","export default Uint8Array\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/buffer/proto.js","import {\r\n  SUPER_CHAIN_PROTO_PROP,\r\n  SUPER_CHAIN_APPLY_PROP\r\n} from './vars'\r\n\r\nconst _extend = (options = {}) => {\r\n  if(!options.apply)\r\n    options.apply = []\r\n  if(!options.super)\r\n    options.super = []\r\n\r\n  const Child = options.super[0]\r\n\r\n  function Extended() {\r\n    options.apply.forEach(Super => Super.apply(this, arguments))\r\n  }\r\n\r\n  defProp(Extended, 'name', { get: () => Child.name })\r\n  defProp(Extended, 'prototype', { value: {} })\r\n\r\n  options.super.forEach(Super => {\r\n    function Proto() {}\r\n    Proto.prototype = Super.prototype\r\n\r\n    const proto = new Proto()\r\n\r\n    for(let prop in proto)\r\n      if(prop !== SUPER_CHAIN_PROTO_PROP)\r\n        defProp(Extended.prototype, prop, {\r\n          value: proto[prop],\r\n          enumerable: true,\r\n          writable: true\r\n        })\r\n  })\r\n\r\n  defProp(Extended.prototype, 'constructor', { value: Child })\r\n  defProp(Extended.prototype, SUPER_CHAIN_PROTO_PROP, { value: options.super })\r\n  defProp(Extended.prototype, SUPER_CHAIN_APPLY_PROP, { value: options.apply })\r\n\r\n  return Extended\r\n}\r\n\r\nconst extend = (...args) => _extend({ super: args, apply: args })\r\n\r\nexport { extend, _extend }\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/extend.js","import Readable from './readable'\r\nimport Writable from './writable'\r\nimport Duplex from './duplex'\r\n\r\nexport { Readable, Writable, Duplex }\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/stream/index.js","import Stream from './stream'\r\n\r\nfunction _readFree() {\r\n\treturn this._read(this._readableState.highWaterMark - this._readableState.buffer.length)\r\n}\r\n\r\nfunction _readFromInternalBuffer(length) {\r\n\tconst data = this._readableState.buffer.slice(0, length !== undefined ? length : this.options.highWaterMark)\r\n\tthis._readableState.buffer = Buffer.from([])\r\n\r\n\treturn data\r\n}\r\n\r\nfunction _broadcast() {\r\n\tif(this._readableState.buffer.length > 0)\r\n\t\tthis.emit('data', _readFromInternalBuffer.call(this))\r\n}\r\n\r\nfunction _flow() {\r\n\tif(this._readableState.flowing === true)\r\n\t\t_broadcast.call(this)\r\n\r\n\tprocess.nextTick(() => _readFree.call(this))\r\n}\r\n\r\nfunction _end() {\r\n\tthis._readableState.flowing = null\r\n\tthis._readableState.ended = true\r\n\r\n}\r\n\r\nfunction _Readable(options = {}) {\r\n\tthis._readableState = {\r\n\t\tbuffer: Buffer.from([]),\r\n\t\tflowing: null,\r\n\t\tended: false\r\n\t}\r\n\r\n\tthis.pipes = []\r\n\r\n\tthis._read = options.read.bind(this)\r\n\tif(!this._read)\r\n\t\tthrow new TypeError('_read() is not implemented')\r\n\tif(!this._read instanceof Function)\r\n\t\tthrow new TypeError('\\'options.read\\' should be a function, passed', typeof options.read)\r\n}\r\n\r\nconst Readable = extend(_Readable, Stream)\r\n\r\nReadable.prototype.pause = function pause() {\r\n\tif(this._readableState.flowing !== false) {\r\n\t\tthis._readableState.flowing = false\r\n\t\tthis.emit('pause')\r\n\t}\r\n\r\n\treturn this\r\n}\r\n\r\nReadable.prototype.resume = function resume() {\r\n\tif(!this._readableState.flowing) {\r\n\t\tthis._readableState.flowing = true\r\n\t\tthis.emit('resume')\r\n\t\t_flow.call(this)\r\n\t}\r\n\r\n\t_broadcast.call(this)\r\n\r\n\treturn this\r\n}\r\n\r\nReadable.prototype.read = function read() {\r\n\tconst length = arguments[0] !== undefined ? arguments[0] : this.options.highWaterMark\r\n\treturn _readFromInternalBuffer.call(this, length)\r\n}\r\n\r\nReadable.prototype.push = function push(chunk) {\r\n\tif(chunk === null) {\r\n\t\t_end.call(this)\r\n\t\treturn false\r\n\t}\r\n\r\n\tconst data = Buffer.from(chunk)\r\n\r\n\tif(data.length)\r\n\t\tthis._readableState.buffer = Buffer.concat([this._readableState.buffer, data], this._readableState.buffer.length + data.length)\r\n\r\n\tconst overflow = this._readableState.buffer.length > this.options.highWaterMark\r\n\r\n\tif(!overflow)\r\n\t\t_flow.call(this)\r\n\r\n\treturn !overflow\r\n}\r\n\r\nReadable.prototype.pipe = function pipe(writable) {\r\n\tif(!this.pipes.some(pipe => (pipe.writable === writable))) {\r\n\t\tconst listener = data => {\r\n\t\t\tif(!writable.write(data)) {\r\n\t\t\t\tthis.pause()\r\n\r\n\t\t\t\twritable.once('drain', () => this.resume())\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis\r\n\t\t\t.on('data', listener)\r\n\t\t\t.pipes.push({ writable, listener })\r\n\t}\r\n\r\n\treturn writable\r\n}\r\n\r\nReadable.prototype.unpipe = function unpipe(writable) {\r\n  if(writable) {\r\n    const pipe = this.pipes.find(pipe => ( pipe.writable === writable ))\r\n\r\n    if(pipe)\r\n      this.removeListener('data', pipe.listener)\r\n  }\r\n\r\n  else {\r\n    for(let { listener } of this.pipes)\r\n      this.removeListener(listener)\r\n    this.pipes.splice(0, this.pipes.length)\r\n  }\r\n}\r\n\r\nReadable.prototype.on = function on(event, listener) {\r\n\tif(event === 'data')\r\n\t\tthis.resume()\r\n\r\n\treturn Stream.prototype.on.apply(this, arguments)\r\n}\r\n\r\nReadable.prototype.removeListener = function removeListener(event, listener) {\r\n\tif(event === 'data')\r\n\t\tthis.pause()\r\n\r\n\treturn Stream.prototype.removeListener.apply(this, arguments)\r\n}\r\n\r\nReadable.prototype.isPaused = function isPaused() {\r\n\treturn !this._readableState.flowing\r\n}\r\n\r\nexport default Readable\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/stream/readable.js","const _process = global.process || {}\r\n\r\nif( !_process.nextTick )\r\n  _process.nextTick = setImmediate\r\n\r\nexport default _process\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/process.js","import EventEmitter from 'events'\r\n\r\nfunction _Stream(options = {}) {\r\n\tthis.options = {\r\n\t\thighWaterMark: options.highWaterMark || 128\r\n\t}\r\n}\r\n\r\nconst Stream = _extend({\r\n\tsuper: [_Stream, EventEmitter],\r\n\tapply: [_Stream]\r\n})\r\n\r\nexport default Stream\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/stream/stream.js","import Stream from './stream'\r\n\r\nfunction write(chunk/*, encoding*/) {\r\n  const data = {\r\n    chunk: Buffer.from(chunk),\r\n    encoding: 'binary',\r\n    next: null\r\n  }\r\n\r\n  // = Buffer.concat([this._writableState.buffer, buffer], this._writableState.buffer.length + buffer.length)\r\n  this._writableState.buffer.push(data)\r\n  this._writableState.buffer[ this._writableState.buffer.length - 1 ].next = data\r\n  this._writableState.length += data.chunk.length\r\n\r\n  ;(function _writeInternalBuffer() {\r\n    if(!this._writableState.buffer.length)\r\n      return\r\n\r\n    const cb = err => {\r\n      if(err)\r\n        throw err\r\n\r\n      process.nextTick(() => {\r\n        this._writableState.consumed = true\r\n\r\n        if(this._writableState.buffer.length > 0)\r\n          _writeInternalBuffer()\r\n      })\r\n    }\r\n\r\n    if(!this._writableState.corked && this._writableState.consumed) {\r\n      this._writableState.consumed = false\r\n\r\n      let toConsume\r\n\r\n      if(this._writev && this._writableState.buffer.length > 1) {\r\n        toConsume = this._writableState.buffer.map(d => ({ chunk: d.chunk, encoding: d.encoding}))\r\n        this._writableState.buffer.splice(0, this._writableState.buffer.length)\r\n        this._writableState.length = 0\r\n        this._writev(toConsume, cb)\r\n      }\r\n      else {\r\n        toConsume = this._writableState.buffer.shift()\r\n        this._writableState.length -= toConsume.chunk.length\r\n        this._write(toConsume.chunk, toConsume.encoding, cb)\r\n      }\r\n    }\r\n  }).call(this)\r\n\r\n  return this._writableState.length > this.options.highWaterMark\r\n}\r\n\r\nfunction _Writable(options = {}) {\r\n  this._write = options.write.bind(this)\r\n\r\n  this._writableState = {\r\n    buffer: [],\r\n    length: 0,\r\n    getBuffer: () => this._writableState.buffer,\r\n\r\n    corked: false,\r\n    consumed: true\r\n  }\r\n}\r\n\r\nconst Writable = extend(_Writable, Stream)\r\n\r\nWritable.prototype.write = write\r\n\r\nexport default Writable\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/stream/writable.js","import { Duplex, Writable, Readable } from 'stream'\r\nimport Bus from 'bus'\r\n\r\nfunction read(length) {\r\n\r\n}\r\n\r\nfunction write() {}\r\n\r\nfunction setup() {\r\n  setInterval(() => {\r\n    this.write('0100\\r1')\r\n    setTimeout(() => {\r\n      this.write('00os\\r\\n0sj')\r\n    }, 500)\r\n  }, 1000)\r\n}\r\n\r\n//const _serial = Serial.setup({ tx: B7, rx: B6 })\r\n\r\nconst bus = new Bus({ setup })\r\n\r\nbus.frameSet.push({\r\n  decode(chunk) {\r\n    for(let index = 0; index < chunk.length; index ++) {\r\n      if((chunk[index] === '\\r'.charCodeAt()) && (chunk[index + 1] === '\\n'.charCodeAt())) {\r\n        const frame = this._busState.parsing.slice(0, index + 2)\r\n        this._busState.parsing = Buffer.from(this._busState.parsing.slice(frame.length + 2, this._busState.parsing.length))\r\n        return frame\r\n      }\r\n    }\r\n\r\n    throw new Error('Not a frame')\r\n  }\r\n})\r\n\r\nbus.setup()\r\n\r\nbus.on('frame', frame => console.log('frame', frame))\r\n\r\n//alive()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Proto from '../../proto'\r\nimport arrayToBuffer from './arrayToBuffer'\r\nimport stringToBuffer from './stringToBuffer'\r\n\r\nfunction toBuffer(iterable) {\r\n  if(typeof iterable === 'string')\r\n    return stringToBuffer(iterable)\r\n\r\n  if(iterable instanceof Proto || iterable instanceof Array)\r\n\t\treturn arrayToBuffer(iterable)\r\n}\r\n\r\nexport {\r\n  toBuffer,\r\n  arrayToBuffer,\r\n  stringToBuffer\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/buffer/utils/to/index.js","import Proto from '../../proto'\r\n\r\nexport default function arrayToBuffer(arr) {\r\n\treturn new Proto(arr)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/buffer/utils/to/arrayToBuffer.js","import Proto from '../../proto'\r\n\r\nexport default function stringToUint8Array(str) {\r\n\tconst arr = []\r\n\r\n\tfor(let c in str)\r\n\t\tarr[c] = str.charCodeAt(c)\r\n\r\n\treturn new Proto(arr)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/buffer/utils/to/stringToBuffer.js","const _setImmediate = global.setImmediate || (f => setTimeout(f, 0))\r\n\r\nexport default _setImmediate\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/setImmediate.js","const SUPER_CHAIN_PROTO_PROP = 'super_',\r\n  SUPER_CHAIN_APPLY_PROP = 'apply_'\r\n\r\nexport {\r\n  SUPER_CHAIN_PROTO_PROP,\r\n  SUPER_CHAIN_APPLY_PROP\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/vars.js","function EventEmitter() {}\r\n\r\nEventEmitter.prototype.on = function on() {\r\n  Object.prototype.on.apply(this, arguments)\r\n\r\n  return this\r\n}\r\n\r\nexport default EventEmitter\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/events.js","import Readable from './readable'\r\nimport Writable from './writable'\r\n\r\nfunction _Duplex(options = {}) {\r\n  \r\n}\r\n\r\nconst Duplex = extend(_Duplex, Readable, Writable)\r\n\r\nexport default Duplex\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/stream/duplex.js","import { Duplex } from 'stream'\r\n\r\nfunction _read(size) {\r\n\r\n}\r\n\r\nfunction _write(data, encoding, cb) {\r\n  const binary = Buffer.from(data)\r\n  this._busState.parsing = Buffer.concat([this._busState.parsing, binary], this._busState.parsing.length + binary.length)\r\n\r\n  //optimize\r\n\r\n  this.frameSet.some(frameSet => {\r\n    let frame\r\n\r\n    try {\r\n      frame = frameSet.decode.call(this, this._busState.parsing)\r\n    } catch(err) {\r\n      return false\r\n    }\r\n\r\n    //this.options._busState.parsedFrames.push(frame)\r\n\r\n    this.emit('frame', frame)\r\n\r\n    return true\r\n  })\r\n\r\n  cb()\r\n}\r\n\r\nfunction _Bus(options = {}) {\r\n  Duplex.call(this, {\r\n    read: _read,\r\n    write: _write,\r\n    highWaterMark: options.highWaterMark\r\n  })\r\n\r\n  defProp(this, 'setup', {\r\n    value: (...args) => {\r\n      if(!this._busState.set) {\r\n        //console.log(options.setup)\r\n        options.setup.apply(this, args)\r\n      }\r\n      else\r\n        throw new Error('Bus has been already set up.')\r\n\r\n      return this\r\n    }\r\n  })\r\n\r\n  this.frameSet = []\r\n  /*this.options.optimize = {\r\n    handlers: [],\r\n\r\n  }*/\r\n  this._busState = {\r\n    set: false,\r\n    parsing: Buffer.from([]),\r\n    //parsedFrames: []\r\n  }\r\n}\r\n\r\nconst Bus = _extend({\r\n  super: [Duplex],\r\n  apply: [_Bus]\r\n})\r\n\r\nBus.prototype.tx = function tx(binary, cb) {\r\n\r\n}\r\n\r\nBus.prototype.rx = function rx() {\r\n\r\n}\r\n\r\nexport default Bus\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/bus/index.js"],"sourceRoot":""}